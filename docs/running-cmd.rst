.. _rstrunningcli:

=============================
Running isopret: Command line
=============================

Isopret offers most functionality via its graphical user interface (GUI) version,
but does have a command-line tool that can be used to perform Gene Ontology (GO)
overrepresentation analysis from the shell.

The build process described in :rst:rstsetup_ creates both a GUI app (in the
``isopret-gui/target`` subdirectory) and a command-line app (in
the ``isopret-cli/target`` subdirectory). It is fine to leave both apps in these
directories if you like. For the following explanation, we will assume that
the command-line app ``isopret-cli`` is in the current working directory.


The download command
~~~~~~~~~~~~~~~~~~~~

.. _rstdownload:

isopret requires some additional files to run.

1. ``go.json``. The main Gene Ontology file
2. ``goa_human.gaf``. The Gene Ontology annotation file
3. ``hg38_ensembl.ser`` The `Jannovar <https://github.com/charite/jannovar>`_ transcript information file
4. ``hgnc_complete_set.txt`` A file from HGNC with information about human genes
5. ``interpro_domains.txt`` A file from the isopret GitHub derived from interpro biomaRt data
6. ``interpro_domain_desc.txt`` A file from the isopret GitHub derived from interpro biomaRt data
7. ``isoform_function_list.txt`` A file that is generated by the isoform function inferrence algorithm described in the manuscript.



isopret offers a convenience function to download all the files
to a local directory (by default a subdirectory ``data`` is created in the current working directory).
You can change this default with the ``-d`` or ``--data`` options
(If you change this, then you will need to pass the location of your directory to all other isopret commands
using the ``-d`` flag). Download the files automatically as follows. ::

    $ java -jar isopret-cli.jar download

isopret will not download the files if they are already present unless the ``--overwrite`` argument is passed. For
instance, the following command would download the four files to a directory called datafiles and would
overwrite any previously downloaded files. ::

    $ java -jar isopret-cli.jar download -d datafiles --overwrite


If desired, you can download these files on your own but you need to place them all in the
same directory to run isopret. The GUI uses the same functionality to download these files to a directory
that is chosen or created by the user; this directory can be used by both the command-line and the
GUI version of isopret.

